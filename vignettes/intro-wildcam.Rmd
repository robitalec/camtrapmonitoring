---
title: "Introduction to `wildcam`"
author: "Alec L. Robitaille"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Vignette Title}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```


ggplot2 figs with geom_sf



# Workflow
`strat_sample` and/or `make_grid` -> `eval_pt`/`eval_buffer` -> `select_ct`

OR

`eval_buffer` -> `select_ct` -> `make_grid` and `make_pair` 



# What you'll need
* study area polygon
* layers of relevant variables (e.g. roads, animal density, waterways, etc.)
* camera trap protocol (how many cameras, placement strategy)


# Selecting potential camera trap locations
## Randomly sampling points in different regions (stratified sampling)

```{r}
# Example polygons with density levels 1, 2 and 3.
data(densitygrid)
#'
# Randomly sample 5 points for each set of polygons in each strata.
pts <- strat_sample(x = densitygrid, n = 5, col = 'density', returnDT = FALSE)
#'
plot(densitygrid, reset = FALSE)
plot(pts$geometry, add = TRUE)

```

## Grid around points

```{r}
queen <- make_grid(pts, case = 'queen', distance = 100)
plot(queen)

rook <- make_grid(pts, case = 'rook', distance = 100)
plot(rook)

bishop <- make_grid(pts, case = 'bishop', distance = 100)
plot(bishop)
```

## Evaluate points
```{r}
# Load data
data(points)
data(lc)
#'
# Evaluate each point with the land cover layer
#   type is categorical, and the direction is neutral
points$lc <- eval_pt(x = points, layer = lc, type = 'categorical', direction = 'neutral')
#'
plot(points["lc"])
```


## Evaluate buffers
```{r}
# Load data
data(wetland)

# Evaluate each point with the wetland layer
points$wetland <- eval_buffer(x = points, layer = wetland, buffersize = 150, type = 'binary', direction = 'positive')

plot(points["wetland"])
```


